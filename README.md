# kyh_http_network_lecture
김영한의 모든 개발자를 위한 HTTP 웹 기본 지식

(23.02.19 ~)

# 인터넷 네트워크

- 내 PC에서 다른 PC로 인터넷을 통해 데이터를 보낼 때 많은 경로를 거쳐서 보낼텐데 어떤 규칙으로 보내는 것일까?

## 1. IP(인터넷 프로토콜)

### **데이터를 전달하고 받는 순서**

1. 데이터를 전달할 때 패킷이라는 통신 단위로 전달한다.
    - 패킷에 들어가는 정보 : 출발지 IP, 목적지 IP 데이터 등등
2. 인터넷에 노드를 통해 전달전달해서 목적지 IP로 데이터를 보낸다.
3. 데이터를 받은 PC는 성공적으로 받았다는 응답을 다시 전달한다
*데이터를 전달할 때 노드와 응답할 때 노드는 다를 수 있다.

### **IP 프로토콜의 한계**

1. 비연결성 - 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷을 전송한다.
    
    ex) 상대 PC가 꺼져있어도 패킷을 전송한다.
    
2. 비신뢰성 - 중간에 패킷이 사라지거나 여러개의 패킷을 던졌을때 순서대로 오지 않을 수 있다.
3. 프로그램 구분 - 같은 IP를 사용하는 서버에서 통신하는 앱이 둘 이상이면 어디에 데이터를 던져야 하는가?
ex) 한 PC에서 여러 앱(음악, 게임 등)을 실행할 때 같은 IP를 쓰게되는데 어디로 데이터를 보내는가?

> 이 문제를 해결하기 위해 TCP, UDP 프로토콜이 필요하다.
> 

## 2. TCP, UDP

### 인터넷 프로토콜 스택 4계층

1. 애플리 케이션 계층 - HTTP, FTP
2. 전송 계승 - TCP, UDP
3. 인터넷 계층 - IP
4. 네트워크 인터페이스 계층

### 4계층을 거쳐서 전달되는 순서

1. 웹 브라우저, 네트워크게임, 채팅 프로그램 등에서 Socket 라이브러리를 통해 메세지를 넘김
2. OS는 이 메세지를 ***TCP 패킷 정보**로 감싼다.
3. 또 IP 패킷을 생성해서 감싼다.
4. 실제 물리적 LAN 카드로 Ethernet frame으로 마지막으로 감싸서 인터넷으로 전송한다. 

*TCP 패킷 정보

- 출발지 PORT, 목적지 PORT, 전송 제어, 순서 ,검증정보 등등이 들어간다.

### TCP 특징

- 전송 제어 프로토콜
- 연결지향 - ***TCP 3 way handshake** (가상 연결)
- 데이터 전달 보증 - 데이터를 정상적으로 받았는지 응답을 해서 보증을 한다.
- 순서 보장 - 패킷을 순서로 전송했을 때 그 순서대로 안왔을 때 잘못된 순서부터 다시 보내라고 응답을 한다.

### TCP 3 way handshake

<img width="706" alt="tcp_3_way_handshake" src="https://github.com/YouJedong/kyh_http_network_lecture/assets/108327853/de433ccc-f186-476e-834f-e9b64ba5dc03">

1. SYN이라는 요청으로 상대 서버에 접속 요청을 한다.
2. 상대 서버는 요청을 받았으면 SYN+ACK 메세지를 보내면서 접속 요청을 보냄
3. 클라이언트도 ACK를 다시 응답한다.
4. 둘다 접속이 되었을 때 그제서야 데이터를 전송한다.

*물리적으로 연결된 것이 아닌 논리적으로 연결이 되었다~ 라는 것

### UDP부터 내일..
